<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Roadmap</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-arabic { font-family: 'IBM Plex Sans Arabic', sans-serif; }
    </style>
</head>
<body class="bg-stone-50 text-slate-700">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const ICONS = {
            Calculator: <><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01M12 10h.01M8 10h.01M12 14h.01M8 14h.01M12 18h.01M8 18h.01"/></>,
            Terminal: <><polyline points="4 17 10 11 4 5"/><line x1="12" x2="20" y1="19" y2="19"/></>,
            Database: <><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></>,
            Brain: <><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2ZM14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></>,
            Map: <><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></>,
            Clock: <><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></>,
            Check: <><polyline points="20 6 9 17 4 12"/></>,
            Alert: <><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></>,
            Star: <><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></>,
            Link: <><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></>
        };
        const Icon = ({ n, c }) => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={n==="Check"?3:2} strokeLinecap="round" strokeLinejoin="round" className={c}>{ICONS[n]}</svg>;

        const DATA = [
            ["PHASE 1: FOUNDATION TRACK", "المسار التأسيسي", "Mathematical Core & Python Basics", "bg-slate-50", "border-slate-200", "text-slate-500", "Calculator", [
                ["Programming for Everybody", "البرمجة للجميع", 12, "python", "Control flow, logic.", ["Core Syntax", "Conditionals", "Algo Prep"]],
                ["Python Data Structures", "هياكل البيانات", 15, "python-data", "Lists, Dicts, Tuples.", ["List Manipulation", "Immutability", "JSON Prep"]],
                ["Using Python to Access Web Data", "الوصول لبيانات الويب", 15, "python-network-data", "Harvesting data, APIs.", ["JSON/XML Parsing", "REST APIs", "Data Eng Prep"]],
                ["Linear Algebra for ML", "الجبر الخطي", 20, "linear-algebra-machine-learning", "Vectors, Matrices.", ["Vector Spaces", "Matrix Ops", "Embeddings Math"]],
                ["Multivariate Calculus", "التفاضل والتكامل", 20, "multivariate-calculus-machine-learning", "Gradient Descent.", ["Derivatives", "Chain Rule", "Backprop Math"]],
                ["PCA", "تحليل المكونات الرئيسية", 15, "pca-machine-learning", "Dim Reduction.", ["Eigenvectors", "Projections", "Compression"]]
            ]],
            ["PHASE 2: CORE ENGINEERING TRACK", "المسار الهندسي", "IBM AI Engineering", "bg-blue-50", "border-blue-100", "text-blue-600", "Terminal", [
                ["Python for Data Science", "بايثون لعلوم البيانات", 30, "python-for-applied-data-science-ai", "Pandas & NumPy.", ["Skip Modules 1-3", "DataFrames", "Vectorization", "Stack Std"]],
                ["Machine Learning with Python", "تعلم الآلة مع بايثون", 45, "machine-learning-with-python", "Scikit-Learn.", ["Regression/SVMs", "Clustering", "Decision Trees", "SMOTE"]],
                ["Intro to DL with Keras", "مقدمة في التعلم العميق", 30, "introduction-to-deep-learning-with-keras", "Keras API, Backprop.", ["Layers", "Activations", "Gradient Descent", "Sequential Models"]],
                ["DL with Keras & TF", "التعلم العميق (تنسرفلو)", 45, "deep-learning-with-keras-and-tensorflow", "TF Ecosystem.", ["tf.data pipelines", "Bottlenecks", "TFRecords", "HDF5/SavedModel"]],
                ["Intro to NN & PyTorch", "الشبكات العصبية وباي تورش", 30, "introduction-to-neural-networks-and-pytorch", "Tensors, Autograd.", ["GPU Tensors", "AutoDiff", "PyTorch Syntax", "Dynamic Graphs"]],
                ["Deep Learning with PyTorch", "التعلم العميق مع باي تورش", 45, "deep-neural-networks-with-pytorch", "CNNs, ResNet.", ["Stride/Pooling", "Fine-tuning", "Replaces DeepLearning.AI", "LLM Prep"], "CRITICAL STOP: PAUSE IBM CERT HERE."]
            ]],
            ["PHASE 3: INFRASTRUCTURE TRACK", "مسار البنية التحتية", "Google Cloud ML Engineer", "bg-emerald-50", "border-emerald-100", "text-emerald-600", "Database", [
                ["Intro to AI on GCP", "الذكاء الاصطناعي على جوجل كلاود", 30, "google-cloud-java-machine-learning", "Build vs Buy.", ["Vision API vs Custom", "BigQuery ML", "Data Gravity", "GCP Hierarchy"]],
                ["Feature Engineering", "هندسة الخصائص", 30, "feature-engineering", "Dataflow, tf.Transform.", ["Windowing/Triggers", "Skew Prevention", "Feature Store", "Categorical Data"]],
                ["ML in the Enterprise", "تعلم الآلة للمؤسسات", 30, "machine-learning-enterprise", "Vizier, Governance.", ["Bayesian Opt", "Search Algos", "Model Registry", "Vertex Exp"]],
                ["Production ML Systems", "أنظمة تعلم الآلة الإنتاجية", 30, "production-machine-learning-systems", "Dist. Training, Serving.", ["MirroredStrategy", "TPU vs GPU", "Static vs Dynamic", "TF Serving"]],
                ["MLOps Fundamentals", "أساسيات MLOps", 30, "mlops-fundamentals", "Pipelines, CI/CD.", ["Kubeflow DSL", "Cloud Build", "DAGs", "Pipeline Auto"]]
            ]],
            ["PHASE 4: GENAI DELTA", "الذكاء الاصطناعي التوليدي", "Generative AI Specialization", "bg-purple-50", "border-purple-100", "text-purple-600", "Brain", [
                ["GenAI Architecture", "معمارية النماذج التوليدية", 15, "generative-ai-llms-architecture-data-preparation", "Transformers.", ["Encoder-Decoder", "Attention", "Positional Enc", "Tokenization"]],
                ["Foundational Models NLP", "النماذج اللغوية التأسيسية", 15, "generative-ai-foundational-models-for-nlp-and-language-understanding", "BERT, GPT.", ["Encoder vs Decoder", "Prompt Eng", "Domain Adapt", "BLEU/ROUGE"]],
                ["Gen AI Fine-Tuning", "الضبط الدقيق للنماذج", 15, "generative-ai-engineering-and-fine-tuning-transformers", "PEFT, LoRA.", ["Freezing Weights", "Low-Rank Adapt", "RLHF", "Quantization"]],
                ["AI Agents (RAG)", "الوكلاء الذكيين (RAG)", 15, "generative-ai-agents-rag-langchain", "Vector DBs, RAG.", ["RAG Flow", "Agent Builder", "ScaNN", "Grounding"]]
            ]],
            ["PHASE 5: LOCALIZATION & EXECUTION", "التوطين والتنفيذ", "Portfolio & Exam", "bg-rose-50", "border-rose-100", "text-rose-600", "Map", [
                ["Project 1: Arabic NLP", "مشروع 1: معالجة اللغات الطبيعية", 30, "https://cloud.google.com/vertex-ai-notebooks", "AraBERT Tuning.", ["Fine-tune CamelBERT", "Saudi Dialects", "Sentiment Analysis", "Vertex Workbench"]],
                ["Project 2: Smart City", "مشروع 2: المدن الذكية", 30, "https://www.ultralytics.com/yolo", "YOLOv8 on ArTS.", ["YOLOv8", "Arabic Signs", "Glare/Dust", "Edge Sim"]],
                ["Exam Simulation", "محاكاة الاختبار", 20, "https://www.whizlabs.com/", "Whizlabs, Quests.", ["Timed Mocks", "Skills Boost", "Gap Analysis", "<1min/q Speed"]],
                ["FINAL EXAM: GCP PMLE", "الاختبار النهائي", 5, "https://cloud.google.com/learn/certification/machine-learning-engineer", "Execution.", ["Remote/On-site", "ID Check", "Clean Desk", "Trust Prep"], "Good luck. You are ready."]
            ]]
        ];

        const STYLES = {
            card: "group relative bg-white border border-stone-100 rounded-xl p-3 md:p-4 shadow-sm transition-all duration-200 hover:shadow-md cursor-pointer hover:bg-stone-50",
            cardDone: "opacity-70 bg-stone-50",
            // [MODIFICATION: BUTTON] Added shrink-0 to prevent squishing
            btnBase: "mt-0.5 shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors duration-200",
            btnDone: "bg-emerald-400 border-emerald-400 text-white",
            btnTodo: "border-stone-300 text-transparent hover:border-emerald-300",
            pill: "text-xs font-semibold bg-stone-100 text-slate-500 px-2 py-1 rounded-md whitespace-nowrap"
        };

        const RoadmapTracker = () => {
            const [done, setDone] = useState(() => JSON.parse(localStorage.getItem('roadmapV2')) || []);
            useEffect(() => localStorage.setItem('roadmapV2', JSON.stringify(done)), [done]);

            const getUrl = (u) => u.startsWith('http') ? u : `https://www.coursera.org/learn/${u}`;
            const toggle = (id, pIdx) => {
                if (pIdx === 0) return;
                setDone(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);
            };

            const targetDate = new Date("2026-05-31");
            const today = new Date();
            const daysLeft = Math.ceil((targetDate - today) / (1000 * 60 * 60 * 24));
            
            let totalHrs = 0, doneHrs = 0, totalItems = 0, doneItems = 0;
            DATA.forEach((phase, pIdx) => phase[7].forEach((step, sIdx) => {
                const id = `${pIdx}-${sIdx}`;
                const hrs = step[2];
                const isComp = pIdx === 0 || done.includes(id);
                totalHrs += hrs; totalItems++;
                if (isComp) { doneHrs += hrs; doneItems++; }
            }));

            const remainingHrs = totalHrs - doneHrs;
            const hrsPerDay = daysLeft > 0 ? Math.round(remainingHrs / daysLeft) : 0;
            const durationStr = daysLeft > 60 ? `${Math.round(daysLeft/30)} Months Left` : `${Math.round(daysLeft)} Days Left`;

            let statusLabel;
            if (remainingHrs <= 0) statusLabel = "Complete!";
            else if (daysLeft <= 0) statusLabel = "Overdue";
            else statusLabel = `Target: ${hrsPerDay} Hrs/Day`;

            const pct = Math.round((doneItems / totalItems) * 100);

            return (
                <div className="min-h-screen bg-stone-50 selection:bg-blue-100 pb-20">
                    <div className="sticky top-0 z-50 bg-stone-50/90 backdrop-blur-md border-b border-stone-200 shadow-sm py-2">
                        <div className="max-w-4xl mx-auto px-6">
                            <div className="flex justify-center items-center mb-3 gap-3">
                                <div className="px-4 py-2 rounded-lg shadow-sm border border-stone-100 flex items-center gap-2 text-sm font-semibold bg-white text-slate-600">
                                    <Icon n="Clock" c="w-4 h-4 text-slate-400" /> 
                                    <span>{durationStr}</span>
                                </div>
                                <div className={`px-4 py-2 rounded-lg shadow-sm border border-stone-100 flex items-center gap-2 text-sm font-semibold ${hrsPerDay > 4 ? 'bg-rose-50 text-rose-600 border-rose-100' : 'bg-blue-50 text-blue-600 border-blue-100'}`}>
                                    <Icon n="Terminal" c={`w-4 h-4 ${hrsPerDay > 4 ? 'text-rose-500' : 'text-blue-500'}`} /> 
                                    <span>{statusLabel}</span>
                                </div>
                            </div>
                            <div className="w-full bg-stone-200 rounded-full h-3 overflow-hidden">
                                <div className="bg-gradient-to-r from-blue-300 via-purple-300 to-rose-300 h-3 rounded-full transition-all duration-1000 ease-out" style={{ width: `${pct}%` }}></div>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-4xl mx-auto px-6 py-4 space-y-8">
                        {DATA.map(([pTit, pAr, pSub, bg, bdr, txt, icon, steps], pIdx) => (
                            <div key={pIdx} className="relative">
                                <div className={`sticky top-20 md:top-24 z-30 mb-4 p-4 rounded-xl border ${bdr} ${bg} shadow-sm backdrop-blur-sm flex items-center gap-4`}>
                                    <div className={`p-2 bg-white rounded-lg shadow-sm ${txt}`}><Icon n={icon} c="w-6 h-6" /></div>
                                    <div>
                                        <div className="flex flex-col md:flex-row md:items-baseline md:gap-3">
                                            <h2 className={`text-lg font-bold ${txt}`}>{pTit}</h2>
                                            <span className={`text-base font-medium font-arabic opacity-80 ${txt}`}>{pAr}</span>
                                        </div>
                                        <p className="text-sm text-slate-600 opacity-90">{pSub}</p>
                                    </div>
                                </div>
                                <div className="grid gap-3">
                                    {steps.map(([tit, tAr, hrs, url, foc, dets, crit], sIdx) => {
                                        const id = `${pIdx}-${sIdx}`;
                                        const isP1 = pIdx === 0;
                                        const isDone = isP1 || done.includes(id);
                                        return (
                                            /* [MODIFICATION: CARD LAYOUT] Switch to flex-col to allow full width children */
                                            <div key={id} onClick={() => toggle(id, pIdx)} className={`${STYLES.card} ${isDone ? STYLES.cardDone : ''} flex flex-col gap-2`}>
                                                
                                                {/* Header Row: Check / Title / Link */}
                                                <div className="flex gap-3 items-start">
                                                    <button className={`${STYLES.btnBase} ${isDone ? STYLES.btnDone : STYLES.btnTodo} ${isP1 ? 'cursor-not-allowed opacity-80' : 'cursor-pointer'}`} disabled={isP1}>
                                                        <Icon n="Check" c="w-4 h-4" />
                                                    </button>
                                                    
                                                    <div className="flex-1 min-w-0">
                                                        <div className="flex justify-between items-start gap-2">
                                                            <div>
                                                                <h3 className={`font-bold text-base md:text-lg leading-tight ${isDone ? 'text-slate-400 line-through decoration-slate-300' : 'text-slate-800'}`}>{tit}</h3>
                                                                <span className={`text-xs md:text-sm font-arabic block mt-0.5 ${isDone ? 'text-slate-400' : 'text-slate-500'}`}>{tAr}</span>
                                                            </div>
                                                            {/* [MODIFICATION: LINK LOCATION] Moved to top right, absolute-ish feel */}
                                                            <a href={getUrl(url)} target="_blank" onClick={(e) => e.stopPropagation()} className="shrink-0 text-slate-300 hover:text-blue-500 transition-colors p-1">
                                                                <Icon n="Link" c="w-4 h-4" />
                                                            </a>
                                                        </div>
                                                        <div className="mt-1">
                                                             <span className={STYLES.pill}>~{hrs} Hours</span>
                                                        </div>
                                                    </div>
                                                </div>

                                                {crit && <div className="flex gap-2 text-xs font-bold text-rose-500 bg-rose-50 p-2 rounded border border-rose-100"><Icon n="Alert" c="w-4 h-4" />{crit}</div>}
                                                
                                                {/* [MODIFICATION: CONTENT FILL] Full width boxes, no labels, tight padding */}
                                                <div className="grid md:grid-cols-2 gap-2 mt-1">
                                                    <div className="bg-blue-50/50 p-2 rounded-lg text-sm text-slate-700 leading-relaxed border border-blue-50/50">
                                                        {foc}
                                                    </div>
                                                    <div className="bg-slate-50 p-2 rounded-lg text-xs text-slate-600 border border-stone-100">
                                                        <ul className="space-y-1">
                                                            {dets.map((d, i) => (
                                                                <li key={i} className="flex gap-2 items-start">
                                                                    <span className="mt-1.5 w-1 h-1 rounded-full bg-slate-300 shrink-0"></span>
                                                                    <span>{d}</span>
                                                                </li>
                                                            ))}
                                                        </ul>
                                                    </div>
                                                </div>

                                            </div>
                                        )
                                    })}
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="text-center text-xs text-slate-400 pb-8 font-mono">v1.7</div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RoadmapTracker />);
    </script>
</body>
</html>
